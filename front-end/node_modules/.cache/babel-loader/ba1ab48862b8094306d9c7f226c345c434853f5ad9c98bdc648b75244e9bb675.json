{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nconst userData = localStorage.getItem('user');\nexport const userProfile = createAsyncThunk('userProfile', async () => {\n  const response = await fetch(\"http://localhost:3001/api/v1/user/profile\", {\n    method: \"POST\",\n    headers: {\n      \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n    }\n  });\n  const data = await response.json();\n  localStorage.setItem('user', data.body);\n  return data;\n});\nconst initialState = {\n  firstName: \"\",\n  lastName: \"\"\n};\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [userProfile.pending]: () => {\n      console.log(\"user pending...\");\n    },\n    [userProfile.fulfilled]: (state, action) => {\n      console.log(\"user fulfilled\");\n      state.firstName = userData.body.firstName;\n      state.lastName = userData.body.lastName;\n    },\n    [userProfile.rejected]: (state, action) => {\n      console.log(\"user rejected\");\n      state.error = action.error.message;\n    }\n  }\n});\nexport const userSliceReducer = userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","userData","localStorage","getItem","userProfile","response","fetch","method","headers","data","json","setItem","body","initialState","firstName","lastName","userSlice","name","reducers","extraReducers","pending","console","log","fulfilled","state","action","rejected","error","message","userSliceReducer","reducer"],"sources":["/home/mehdi/Documents/nammi/src/features/userSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nconst userData = localStorage.getItem('user')\n\nexport const userProfile = createAsyncThunk('userProfile', async() => {\n    const response = await fetch (\"http://localhost:3001/api/v1/user/profile\", {\n    method: \"POST\",\n    headers: { \"Authorization\" : `Bearer ${localStorage.getItem('token')}`},\n    })\n    const data = await response.json()\n    localStorage.setItem('user', data.body)\n    return data;\n})\n\nconst initialState = {\n    firstName: \"\",\n    lastName: \"\",\n}\n\nconst userSlice = createSlice({\n    name: \"user\",\n    initialState,\n    reducers: {\n\n    },\n    extraReducers:{\n        [userProfile.pending]: () =>{\n            console.log(\"user pending...\")\n        },\n        [userProfile.fulfilled]: (state, action) =>{ \n            console.log(\"user fulfilled\")\n            state.firstName = userData.body.firstName\n            state.lastName = userData.body.lastName\n        },\n        [userProfile.rejected]: (state, action) =>{  \n            console.log(\"user rejected\") \n            state.error = action.error.message\n        }\n    }\n})\n\nexport const userSliceReducer = userSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAEhE,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;AAE7C,OAAO,MAAMC,WAAW,GAAGJ,gBAAgB,CAAC,aAAa,EAAE,YAAW;EAClE,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAE,2CAA2C,EAAE;IAC3EC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,eAAe,EAAI,UAASN,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;IAAC;EACtE,CAAC,CAAC;EACF,MAAMM,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;EAClCR,YAAY,CAACS,OAAO,CAAC,MAAM,EAAEF,IAAI,CAACG,IAAI,CAAC;EACvC,OAAOH,IAAI;AACf,CAAC,CAAC;AAEF,MAAMI,YAAY,GAAG;EACjBC,SAAS,EAAE,EAAE;EACbC,QAAQ,EAAE;AACd,CAAC;AAED,MAAMC,SAAS,GAAGjB,WAAW,CAAC;EAC1BkB,IAAI,EAAE,MAAM;EACZJ,YAAY;EACZK,QAAQ,EAAE,CAEV,CAAC;EACDC,aAAa,EAAC;IACV,CAACf,WAAW,CAACgB,OAAO,GAAG,MAAK;MACxBC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;IAClC,CAAC;IACD,CAAClB,WAAW,CAACmB,SAAS,GAAG,CAACC,KAAK,EAAEC,MAAM,KAAI;MACvCJ,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7BE,KAAK,CAACV,SAAS,GAAGb,QAAQ,CAACW,IAAI,CAACE,SAAS;MACzCU,KAAK,CAACT,QAAQ,GAAGd,QAAQ,CAACW,IAAI,CAACG,QAAQ;IAC3C,CAAC;IACD,CAACX,WAAW,CAACsB,QAAQ,GAAG,CAACF,KAAK,EAAEC,MAAM,KAAI;MACtCJ,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5BE,KAAK,CAACG,KAAK,GAAGF,MAAM,CAACE,KAAK,CAACC,OAAO;IACtC;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMC,gBAAgB,GAAGb,SAAS,CAACc,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}