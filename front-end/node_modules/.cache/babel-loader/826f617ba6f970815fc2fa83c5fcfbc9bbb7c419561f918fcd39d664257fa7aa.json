{"ast":null,"code":"import { createSlice, createAsyncThunk, configureStore } from \"@reduxjs/toolkit\";\nexport const signInUser = createAsyncThunk('signInUser', async body => {\n  const response = await fetch(\"http://localhost:3001/api/v1/user/login\", {\n    method: \"POST\",\n    body: JSON.stringify(body),\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  const data = await response.json();\n  localStorage.setItem(\"token\", data.body.token);\n  console.log(data);\n  return data;\n});\nconst initialState = {\n  msg: '',\n  loading: false,\n  error: ''\n};\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [signInUser.pending]: state => {\n      console.log(\"loading ...\");\n      state.loading = true;\n    },\n    [signInUser.fulfilled]: (state, action) => {\n      console.log(\"fullfiled ...\");\n      state.loading = false;\n      state.msg = action.payload.message;\n    },\n    [signInUser.rejected]: (state, action) => {\n      console.log(\"rejected ...\");\n      state.loading = false;\n      state.error = action.error.message;\n    }\n  }\n});\nexport const store = configureStore({\n  reducer: {\n    auth: authSlice.reducer\n  }\n});","map":{"version":3,"names":["createSlice","createAsyncThunk","configureStore","signInUser","body","response","fetch","method","JSON","stringify","headers","data","json","localStorage","setItem","token","console","log","initialState","msg","loading","error","authSlice","name","reducers","extraReducers","pending","state","fulfilled","action","payload","message","rejected","store","reducer","auth"],"sources":["/home/mehdi/Documents/nammi/src/features/authSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk, configureStore } from \"@reduxjs/toolkit\";\n\nexport const signInUser = createAsyncThunk('signInUser', async(body) => {\n    const response = await fetch (\"http://localhost:3001/api/v1/user/login\", {\n        method: \"POST\",\n        body: JSON.stringify(body),\n        headers: { \"Content-Type\": \"application/json\" },\n        })\n        const data = await response.json()\n        localStorage.setItem(\"token\", data.body.token)\n        console.log(data)\n        return data;\n   \n})\n\nconst initialState = {\n    msg: '',\n    loading: false,\n    error:''\n}\n\nconst authSlice = createSlice({\n    name: 'auth',\n    initialState,\n    reducers:{\n\n    },\n    extraReducers:{\n     [signInUser.pending]: (state) =>{\n            console.log(\"loading ...\")\n            state.loading = true\n        },\n        [signInUser.fulfilled]: (state, action) =>{  \n            console.log(\"fullfiled ...\")         \n            state.loading = false\n            state.msg = action.payload.message\n        },\n        [signInUser.rejected]: (state, action) =>{  \n            console.log(\"rejected ...\")          \n            state.loading = false\n            state.error = action.error.message\n        }\n    }\n})\n\nexport const store = configureStore({\n    reducer: {\n        auth: authSlice.reducer,\n    }\n})"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,EAAEC,cAAc,QAAQ,kBAAkB;AAEhF,OAAO,MAAMC,UAAU,GAAGF,gBAAgB,CAAC,YAAY,EAAE,MAAMG,IAAI,IAAK;EACpE,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,yCAAyC,EAAE;IACrEC,MAAM,EAAE,MAAM;IACdH,IAAI,EAAEI,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC;IAC1BM,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB;EAC9C,CAAC,CAAC;EACF,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,EAAE;EAClCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,IAAI,CAACP,IAAI,CAACW,KAAK,CAAC;EAC9CC,OAAO,CAACC,GAAG,CAACN,IAAI,CAAC;EACjB,OAAOA,IAAI;AAEnB,CAAC,CAAC;AAEF,MAAMO,YAAY,GAAG;EACjBC,GAAG,EAAE,EAAE;EACPC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAC;AACV,CAAC;AAED,MAAMC,SAAS,GAAGtB,WAAW,CAAC;EAC1BuB,IAAI,EAAE,MAAM;EACZL,YAAY;EACZM,QAAQ,EAAC,CAET,CAAC;EACDC,aAAa,EAAC;IACb,CAACtB,UAAU,CAACuB,OAAO,GAAIC,KAAK,IAAI;MACzBX,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAC1BU,KAAK,CAACP,OAAO,GAAG,IAAI;IACxB,CAAC;IACD,CAACjB,UAAU,CAACyB,SAAS,GAAG,CAACD,KAAK,EAAEE,MAAM,KAAI;MACtCb,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5BU,KAAK,CAACP,OAAO,GAAG,KAAK;MACrBO,KAAK,CAACR,GAAG,GAAGU,MAAM,CAACC,OAAO,CAACC,OAAO;IACtC,CAAC;IACD,CAAC5B,UAAU,CAAC6B,QAAQ,GAAG,CAACL,KAAK,EAAEE,MAAM,KAAI;MACrCb,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;MAC3BU,KAAK,CAACP,OAAO,GAAG,KAAK;MACrBO,KAAK,CAACN,KAAK,GAAGQ,MAAM,CAACR,KAAK,CAACU,OAAO;IACtC;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAME,KAAK,GAAG/B,cAAc,CAAC;EAChCgC,OAAO,EAAE;IACLC,IAAI,EAAEb,SAAS,CAACY;EACpB;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}