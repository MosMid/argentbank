{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nconst initialState = {\n  email: '',\n  firstName: '',\n  lastName: '',\n  id: '',\n  loading: false\n};\nexport const getUserProfile = createAsyncThunk('getUserProfile', async body => {\n  const response = await fetch(\"http://localhost:3001/api/v1/user/profile\", {\n    method: \"POST\",\n    body: JSON.stringify(body),\n    headers: {\n      \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  });\n  const data = await response.json();\n  console.log(data);\n  return data;\n});\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [getUserProfile.pending]: state => {\n      console.log(\"loading ...\");\n      state.loading = true;\n    },\n    [getUserProfile.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.email = action.payload.email;\n      state.firstName = action.payload.firstName;\n      state.lastName = action.payload.lastName;\n    },\n    [getUserProfile.rejected]: (state, action) => {\n      state.loading = false;\n      state.email = null;\n      state.firstName = null;\n      state.lastName = null;\n    }\n  }\n});","map":{"version":3,"names":["createSlice","createAsyncThunk","initialState","email","firstName","lastName","id","loading","getUserProfile","body","response","fetch","method","JSON","stringify","headers","localStorage","getItem","data","json","console","log","userSlice","name","reducers","extraReducers","pending","state","fulfilled","action","payload","rejected"],"sources":["/home/mehdi/Documents/nammi/src/features/userSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    email: '',\n    firstName: '',\n    lastName: '',\n    id: '',\n    loading: false,\n}\n\nexport const getUserProfile = createAsyncThunk('getUserProfile', async(body) => {\n    const response = await fetch (\"http://localhost:3001/api/v1/user/profile\", {\n        method: \"POST\",\n        body: JSON.stringify(body),\n        headers: { \"Authorization\" : `Bearer ${localStorage.getItem(\"token\")}`},\n        })\n        const data = await response.json()\n        console.log(data)\n        return data;\n   \n})\n\nexport const userSlice = createSlice({\n    name: 'user',\n    initialState,\n    reducers:{\n\n    },\n    extraReducers:{\n     [getUserProfile.pending]: (state) =>{\n            console.log(\"loading ...\")\n            state.loading = true\n        },\n        [getUserProfile.fulfilled]: (state, action) =>{           \n            state.loading = false\n            state.email = action.payload.email\n            state.firstName = action.payload.firstName\n            state.lastName = action.payload.lastName\n        },\n        [getUserProfile.rejected]: (state, action) =>{            \n            state.loading = false\n            state.email = null\n            state.firstName = null\n            state.lastName = null\n        }\n    }\n})"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAEhE,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAE,EAAE;EACTC,SAAS,EAAE,EAAE;EACbC,QAAQ,EAAE,EAAE;EACZC,EAAE,EAAE,EAAE;EACNC,OAAO,EAAE;AACb,CAAC;AAED,OAAO,MAAMC,cAAc,GAAGP,gBAAgB,CAAC,gBAAgB,EAAE,MAAMQ,IAAI,IAAK;EAC5E,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,2CAA2C,EAAE;IACvEC,MAAM,EAAE,MAAM;IACdH,IAAI,EAAEI,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC;IAC1BM,OAAO,EAAE;MAAE,eAAe,EAAI,UAASC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;IAAC;EACtE,CAAC,CAAC;EACF,MAAMC,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,EAAE;EAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;EACjB,OAAOA,IAAI;AAEnB,CAAC,CAAC;AAEF,OAAO,MAAMI,SAAS,GAAGtB,WAAW,CAAC;EACjCuB,IAAI,EAAE,MAAM;EACZrB,YAAY;EACZsB,QAAQ,EAAC,CAET,CAAC;EACDC,aAAa,EAAC;IACb,CAACjB,cAAc,CAACkB,OAAO,GAAIC,KAAK,IAAI;MAC7BP,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAC1BM,KAAK,CAACpB,OAAO,GAAG,IAAI;IACxB,CAAC;IACD,CAACC,cAAc,CAACoB,SAAS,GAAG,CAACD,KAAK,EAAEE,MAAM,KAAI;MAC1CF,KAAK,CAACpB,OAAO,GAAG,KAAK;MACrBoB,KAAK,CAACxB,KAAK,GAAG0B,MAAM,CAACC,OAAO,CAAC3B,KAAK;MAClCwB,KAAK,CAACvB,SAAS,GAAGyB,MAAM,CAACC,OAAO,CAAC1B,SAAS;MAC1CuB,KAAK,CAACtB,QAAQ,GAAGwB,MAAM,CAACC,OAAO,CAACzB,QAAQ;IAC5C,CAAC;IACD,CAACG,cAAc,CAACuB,QAAQ,GAAG,CAACJ,KAAK,EAAEE,MAAM,KAAI;MACzCF,KAAK,CAACpB,OAAO,GAAG,KAAK;MACrBoB,KAAK,CAACxB,KAAK,GAAG,IAAI;MAClBwB,KAAK,CAACvB,SAAS,GAAG,IAAI;MACtBuB,KAAK,CAACtB,QAAQ,GAAG,IAAI;IACzB;EACJ;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}