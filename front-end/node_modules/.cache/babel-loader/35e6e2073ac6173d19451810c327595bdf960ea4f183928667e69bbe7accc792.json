{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { signInUser } from \"./authSlice\";\nexport const userProfile = createAsyncThunk('userProfile', async body => {\n  signInUser(body);\n  const response = await fetch(\"http://localhost:3001/api/v1/user/profile\", {\n    method: \"POST\",\n    headers: {\n      \"Authorization\": `Bearer ${signInUser(body)}`\n    }\n  });\n  const data = await response.json();\n  return data;\n});\nconst initialState = {\n  firstName: \"\",\n  lastName: \"\"\n};\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    logout: state => {\n      state.firstName = \"\";\n      state.lastName = \"\";\n      localStorage.removeItem('token');\n    },\n    estate: () => {\n      console.log(localStorage.getItem('token'));\n    }\n  },\n  extraReducers: {\n    [userProfile.pending]: () => {\n      console.log(\"pending...\");\n    },\n    [userProfile.fulfilled]: (state, action) => {\n      console.log(\"fulfilled\");\n      state.firstName = action.payload.body.firstName;\n      state.lastName = action.payload.body.lastName;\n    },\n    [userProfile.rejected]: (state, action) => {\n      state.error = action.error.message;\n    }\n  }\n});\nexport const userSliceExp = userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","signInUser","userProfile","body","response","fetch","method","headers","data","json","initialState","firstName","lastName","userSlice","name","reducers","logout","state","localStorage","removeItem","estate","console","log","getItem","extraReducers","pending","fulfilled","action","payload","rejected","error","message","userSliceExp","reducer"],"sources":["/home/mehdi/Documents/nammi/src/features/userSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { signInUser } from \"./authSlice\";\n\nexport const userProfile = createAsyncThunk('userProfile', async(body) => {\n    signInUser(body)\n    const response = await fetch (\"http://localhost:3001/api/v1/user/profile\", {\n    method: \"POST\",\n    headers: { \"Authorization\" : `Bearer ${signInUser(body)}`},\n    })\n    const data = await response.json()\n    return data;\n})\n\nconst initialState = {\n    firstName: \"\",\n    lastName: \"\",\n}\n\nconst userSlice = createSlice({\n    name: \"user\",\n    initialState,\n    reducers: {\n        logout: (state) => {\n            state.firstName = \"\"\n            state.lastName = \"\"\n            localStorage.removeItem('token')\n        },\n        estate: () => {\n            console.log(localStorage.getItem('token'))\n        }\n    },\n    extraReducers:{\n        [userProfile.pending]: () =>{\n            console.log(\"pending...\")\n        },\n        [userProfile.fulfilled]: (state, action) =>{ \n            console.log(\"fulfilled\") \n            state.firstName = action.payload.body.firstName\n            state.lastName = action.payload.body.lastName\n        },\n        [userProfile.rejected]: (state, action) =>{  \n            state.error = action.error.message\n        }\n    }\n})\n\nexport const userSliceExp = userSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,SAASC,UAAU,QAAQ,aAAa;AAExC,OAAO,MAAMC,WAAW,GAAGF,gBAAgB,CAAC,aAAa,EAAE,MAAMG,IAAI,IAAK;EACtEF,UAAU,CAACE,IAAI,CAAC;EAChB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,2CAA2C,EAAE;IAC3EC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,eAAe,EAAI,UAASN,UAAU,CAACE,IAAI,CAAE;IAAC;EACzD,CAAC,CAAC;EACF,MAAMK,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf,CAAC,CAAC;AAEF,MAAME,YAAY,GAAG;EACjBC,SAAS,EAAE,EAAE;EACbC,QAAQ,EAAE;AACd,CAAC;AAED,MAAMC,SAAS,GAAGd,WAAW,CAAC;EAC1Be,IAAI,EAAE,MAAM;EACZJ,YAAY;EACZK,QAAQ,EAAE;IACNC,MAAM,EAAGC,KAAK,IAAK;MACfA,KAAK,CAACN,SAAS,GAAG,EAAE;MACpBM,KAAK,CAACL,QAAQ,GAAG,EAAE;MACnBM,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IACpC,CAAC;IACDC,MAAM,EAAE,MAAM;MACVC,OAAO,CAACC,GAAG,CAACJ,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC,CAAC;IAC9C;EACJ,CAAC;EACDC,aAAa,EAAC;IACV,CAACtB,WAAW,CAACuB,OAAO,GAAG,MAAK;MACxBJ,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;IAC7B,CAAC;IACD,CAACpB,WAAW,CAACwB,SAAS,GAAG,CAACT,KAAK,EAAEU,MAAM,KAAI;MACvCN,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;MACxBL,KAAK,CAACN,SAAS,GAAGgB,MAAM,CAACC,OAAO,CAACzB,IAAI,CAACQ,SAAS;MAC/CM,KAAK,CAACL,QAAQ,GAAGe,MAAM,CAACC,OAAO,CAACzB,IAAI,CAACS,QAAQ;IACjD,CAAC;IACD,CAACV,WAAW,CAAC2B,QAAQ,GAAG,CAACZ,KAAK,EAAEU,MAAM,KAAI;MACtCV,KAAK,CAACa,KAAK,GAAGH,MAAM,CAACG,KAAK,CAACC,OAAO;IACtC;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMC,YAAY,GAAGnB,SAAS,CAACoB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}